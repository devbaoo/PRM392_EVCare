package com.example.prm392_evcare.models;

import com.google.gson.annotations.SerializedName;
import java.io.Serializable;

public class Booking implements Serializable {
    @SerializedName("_id")
    private String id;
    
    @SerializedName("userId")
    private User user;
    
    @SerializedName("vehicleId")
    private Vehicle vehicle;
    
    @SerializedName("serviceCenterId")
    private ServiceCenter serviceCenter;
    
    @SerializedName("serviceTypeIds")
    private java.util.List<ServiceType> serviceTypes;
    
    @SerializedName("scheduledDate")
    private String scheduledDate;
    
    @SerializedName("timeSlot")
    private String timeSlot;
    
    @SerializedName("status")
    private String status; // pending, confirmed, in_progress, completed, cancelled
    
    @SerializedName("totalPrice")
    private double totalPrice;
    
    @SerializedName("notes")
    private String notes;
    
    @SerializedName("createdAt")
    private String createdAt;
    
    @SerializedName("updatedAt")
    private String updatedAt;

    // Getters
    public String getId() {
        return id;
    }

    public User getUser() {
        return user;
    }

    public Vehicle getVehicle() {
        return vehicle;
    }

    public ServiceCenter getServiceCenter() {
        return serviceCenter;
    }

    public java.util.List<ServiceType> getServiceTypes() {
        return serviceTypes;
    }

    public String getScheduledDate() {
        return scheduledDate;
    }

    public String getTimeSlot() {
        return timeSlot;
    }

    public String getStatus() {
        return status;
    }

    public double getTotalPrice() {
        return totalPrice;
    }

    public String getNotes() {
        return notes;
    }

    public String getCreatedAt() {
        return createdAt;
    }

    public String getUpdatedAt() {
        return updatedAt;
    }

    // Setters
    public void setId(String id) {
        this.id = id;
    }

    public void setUser(User user) {
        this.user = user;
    }

    public void setVehicle(Vehicle vehicle) {
        this.vehicle = vehicle;
    }

    public void setServiceCenter(ServiceCenter serviceCenter) {
        this.serviceCenter = serviceCenter;
    }

    public void setServiceTypes(java.util.List<ServiceType> serviceTypes) {
        this.serviceTypes = serviceTypes;
    }

    public void setScheduledDate(String scheduledDate) {
        this.scheduledDate = scheduledDate;
    }

    public void setTimeSlot(String timeSlot) {
        this.timeSlot = timeSlot;
    }

    public void setStatus(String status) {
        this.status = status;
    }

    public void setTotalPrice(double totalPrice) {
        this.totalPrice = totalPrice;
    }

    public void setNotes(String notes) {
        this.notes = notes;
    }

    public void setCreatedAt(String createdAt) {
        this.createdAt = createdAt;
    }

    public void setUpdatedAt(String updatedAt) {
        this.updatedAt = updatedAt;
    }

    // Helper method to get status display text
    public String getStatusDisplay() {
        if (status == null) return "Unknown";
        switch (status.toLowerCase()) {
            case "pending":
                return "Chờ xác nhận";
            case "confirmed":
                return "Đã xác nhận";
            case "in_progress":
                return "Đang thực hiện";
            case "completed":
                return "Hoàn thành";
            case "cancelled":
                return "Đã hủy";
            default:
                return status;
        }
    }

    // Helper method to format price
    public String getFormattedTotalPrice() {
        return String.format("%,.0f VND", totalPrice);
    }

    // Helper method to get booking date (use scheduledDate if available, otherwise createdAt)
    public String getBookingDate() {
        return scheduledDate != null ? scheduledDate : createdAt;
    }
}
